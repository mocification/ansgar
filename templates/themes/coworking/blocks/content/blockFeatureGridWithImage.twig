{% set textPart %}
    {% include 'themes/'~ design.theme.value ~'/baseHeadingText.twig' %}
{% endset %}

<div class="section bg-transparent my-0"
    {% include 'themes/'~ design.theme.value ~'/baseSection.twig' %}
>
    <div class="container">        
        <div class="row">
            <div class="col-12">
                {{ textPart }}
            </div>
            
            <div class="col-12">
                {% set features = entry.featuresWithImageLink.all() %}
                {% if features|length %}
                    {% if entry.styleFeatureGrid.layoutFeatureGrid == "layout4" %}
                        <div class="row align-items-stretch grid-border">
                    {% else %}
                        <div class="row col-mb-30 mb-0">
                    {% endif %}
                        {% for feature in features %}                                             
                            {% if entry.styleFeatureGrid.layoutFeatureGrid == "layout4" %}
                                <div class="{% if entry.featureColumns is not empty %}col-md-{{ entry.featureColumns }}{% else %}col-md-12{% endif %} col-padding">
                            {% else %}                                
                                <div class="{% if entry.featureColumns is not empty %}col-md-{{ entry.featureColumns }}{% else %}col-md-12{% endif %} g-5">
                            {% endif %}

                            {% switch entry.styleFeatureGrid.layoutFeatureGrid %}
                                {% case "layout1" %}
                                    <div class="feature-box fbox-plain {% if entry.styleFeatureGrid.alignmentFeatures == "center" %}fbox-center{% endif %}">
                            
                                {% case "layout2" %}
                                    <div class="feature-box fbox-plain {% if entry.styleFeatureGrid.alignmentFeatures == "center" %}fbox-center{% endif %} border p-4 rounded-3">

                                {% case "layout3" %}
                                    <div class="feature-box fbox-plain {% if entry.styleFeatureGrid.alignmentFeatures == "center" %}fbox-center{% endif %} bg-light border border p-4 rounded-3">

                                {% case "layout4" %}
                                    <div class="feature-box fbox-plain {% if entry.styleFeatureGrid.alignmentFeatures == "center" %}fbox-center{% endif %}">                                
                            
                                {% default %}
                                    <div class="feature-box fbox-plain {% if entry.styleFeatureGrid.alignmentFeatures == "center" %}fbox-center{% endif %}">                                
                            
                            {% endswitch %}
                                {% set image = feature.image.one() %}
                                <div class="mb-4 bounceIn animated" data-animate="bounceIn">
                                    {% if image is not empty %}
                                        <img src="{{ image.getUrl('imageFit_400x0') }}" alt="{{ image.alt }}" class="bg-transparent rounded-2 w-100 img-feature-box img-fluid object-fit-cover">
                                    {% endif %}
                                </div>
                                <div class="fbox-content">
                                    <h3>{{ feature.heading }}</h3>
                                    
                                    {{ feature.text }}

                                    {% if entry.styleLink.showAsButton %}
                                        <a 
                                            href="{{ feature.linkField}}" 
                                            class="button button-rounded button-large text-transform-none ls-0 mt-4"
                                            title="{{ feature.linkField.title }}"
                                            target="{{ feature.linkField.target }}"
                                        >
                                            {{ feature.linkField.label }}
                                        </a>                    
                                    {% else %}
                                        <a 
                                            href="{{ feature.linkField}}" 
                                            class="btn btn-link mt-4"
                                            title="{{ feature.linkField.title }}"
                                            target="{{ feature.linkField.target }}"
                                        >
                                            {{ feature.linkField.label }}
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                {% endif %}
        </div>
    </div>
</div>