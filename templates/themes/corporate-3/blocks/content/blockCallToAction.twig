{% set backgroundImage = entry.styleBackground.image.one() %}

{% set border %}
    {% if backgroundImage is not empty or entry.styleBackground.color is not empty %}border-0{% else %}promo-border{% endif %}
{% endset %}

{% set background %}
    {% if backgroundImage is not empty or entry.styleBackground.color is not empty %} style="background: 
        {% if backgroundImage is not empty %}
            url('{{ backgroundImage.getUrl('imageFit_1920x0') }}') no-repeat center center / cover 
        {% endif %}
        {% if entry.styleBackground.color %}
            {% if entry.styleBackground.opacity %}
            rgba({{ entry.styleBackground.color.red }}, {{ entry.styleBackground.color.green }}, {{ entry.styleBackground.color.blue }}, {{ entry.styleBackground.opacity / 100 }})
            {% else %}
                {{entry.styleBackground.color}}
            {% endif %}
        {% endif %}
        !important;"
    {% endif %}
{% endset %}

{% set buttons %}
    {% set buttonEntries = entry.buttons.all() %}
    {% for button in buttonEntries %}
            {% if button.iconField is not empty %}                
                {% switch entry.styleButtonIcon %}                
                    {% case "left" %}
                        <a 
                            href="{{ button.linkField}}" 
                            class="button button-rounded button-large"
                            title="{{ button.linkField.title }}"
                            target="{{ button.linkField.target }}"
                        >
                            <i class="fa-solid fa-{{ button.iconField }}"></i>
                            {{ button.linkField.label }}
                        </a>
                    {% case "right" %}
                        <a 
                            href="{{ button.linkField}}" 
                            class="button button-rounded button-large text-end"
                            title="{{ button.linkField.title }}"
                            target="{{ button.linkField.target }}"
                        >                     
                            {{ button.linkField.label }}
                            <i class="fa-solid fa-{{ button.iconField }}"></i>
                        </a>
                    {% default %}
                        <a 
                            href="{{ button.linkField}}" 
                            class="button button-rounded button-large"
                            title="{{ button.linkField.title }}"
                            target="{{ button.linkField.target }}"
                        >
                            {{ button.linkField.label }}
                            <i class="fa-solid fa-{{ button.iconField }}"></i>      
                        </a>          
                {% endswitch %}
            {% endif %}
    {% endfor %}
{% endset %}

{% set content %}
    <h2 class="mb-1 h2">{{ entry.header.mainTitle }}</span></h2>
    <h3 class="color mb-1 fw-medium">{{ entry.header.subTitle }}</h3>
    <span>{{ entry.header.text }}</span>
{% endset %}

<div class="section bg-transparent my-0">
    {% switch entry.buttonAlignment %}

        {% case "left" %}        
            <div class="container">        
                <div class="promo text-end p-4 p-md-5 rounded-5 {{ border }}" {{ background }}>
                    <div class="row align-items-center flex-lg-row-reverse">
                        <div class="col-12 col-lg">
                            {{ content }}
                        </div>
                        <div class="col-12 col-lg-auto mt-4 mt-lg-0">
                            {{ buttons }}
                        </div>
                    </div>
                </div>
            </div>
            
        {% case "right" %}
            <div class="container">
                <div class="promo p-4 p-md-5 rounded-5 {{ border }}" {{ background }}>
                    <div class="row align-items-center">
                        <div class="col-12 col-lg">
                            {{ content }}
                        </div>
                        <div class="col-12 col-lg-auto mt-4 mt-lg-0">
                            {{ buttons }}
                        </div>
                    </div>
                </div>
            </div>
        
        {% case "top" %}
            <div class="container">
                <div class="promo text-center p-4 p-md-5 rounded-5 {{ border }}" {{ background }}>
                    <div class="row align-items-center">
                        <div class="col-12">
                            {{ buttons }}
                        </div>
                        <div class="col-12 mt-4">
                            {{ content }}
                        </div>                        
                    </div>
                </div>
            </div>

        {% case "bottom" %}
            <div class="container">
                <div class="promo text-center p-4 p-md-5 rounded-5 {{ border }}" {{ background }}>
                    <div class="row align-items-center">
                        <div class="col-12">
                            {{ content }}
                        </div>
                        <div class="col-12 mt-2">
                            {{ buttons }}
                        </div>
                    </div>
                </div>
            </div>
            
        {% default %}
            <div class="container">
                <div class="promo p-4 p-md-5 rounded-5 {{ border }}" {{ background }}>
                    <div class="row align-items-center">
                        <div class="col-12 col-lg">
                            {{ content }}
                        </div>
                        <div class="col-12 col-lg-auto mt-4 mt-lg-0">
                            {{ buttons }}
                        </div>
                    </div>
                </div>
            </div>

    {% endswitch %}
</div>

    





