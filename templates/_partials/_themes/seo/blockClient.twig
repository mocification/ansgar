{% set backgroundImage = entry.style.styleBackground.image.one() %}
{% set clients = entry.clients.all() %}

<div class="section bg-transparent my-0"
    {% if backgroundImage is not empty or entry.style.styleBackground.color is not empty %}
    style="background: 
        {% if backgroundImage is not empty %}
            url('{{ backgroundImage.getUrl('imageFit_1920x0') }}') no-repeat center center / cover 
        {% endif %}
        {% if entry.style.styleBackground.color %}
            {% if entry.style.styleBackground.opacity %}
               rgba({{ entry.style.styleBackground.color.red }}, {{ entry.style.styleBackground.color.green }}, {{ entry.style.styleBackground.color.blue }}, {{ entry.style.styleBackground.opacity / 100 }})
            {% else %}
                {{entry.style.styleBackground.color}}
            {% endif %}
        {% endif %}
        !important;"
    {% endif %}
>

    <div class="container">
        <div class="row justify-content-between">
            <div class="col-12">
                <div class="{{ entry.style.styleHeader.alignment }}">
                    {% if entry.header.subTitle %}
                        <div class="{{ entry.style.styleHeader.alignment }}">
                            <div class="badge rounded-pill badge-default">{{ entry.header.subTitle }}</div>
                        </div>
                    {% endif %}
                    <{{ entry.style.styleHeader.tag }} class="fw-bold {{ entry.style.styleHeader.alignment }}">{{ entry.header.mainTitle }}</{{ entry.style.styleHeader.tag }}>

                    {{ entry.header.text }}
                </div>
            </div>
            <div class="col-12">
                {% if entry.clientColumns is not empty %}
                    {% set colCarousel = 12 // entry.clientColumns.value|number_format %}
                    {% set colTable = 'row-cols-md-' ~ colCarousel %}
                {% else %}
                    {% set colCarousel = 4 %}
                    {% set colTable = 'row-cols-md-12' %}
                {% endif %}
                
                {% switch entry.clientGalleryView %}
                
                    {% case "carousel" %}
                        {% if clients|length %}
                            <div id="oc-clients" class="owl-carousel image-carousel carousel-widget" data-margin="20" data-loop="true" data-autoplay="5000" data-nav="true" data-pagi="true" data-items-xs="2" data-items-sm="3" data-items-md="{{ colCarousel }}" data-items-lg="{{ colCarousel }}" data-items-xl="{{ colCarousel }}">
                                {% for client in clients %}
                                    {% set image = client.image.one() %}
                                    {% if image is not empty %}
                                        <div class="oc-item">
                                            <a href="{{ client.linkField }}" title="{{ entry.heading }}">
                                                <img src="{{ image.getUrl('imageFit_0x400') }}" title="{{ entry.heading }}" alt="{{ entry.heading }}" class="rounded-6">
                                            </a>
                                        </div>
                                    {% endif %}                                    
                                {% endfor %}
                            </div>
                        {% endif %} 
                
                    {% case "table" %}                        
                        {% if clients|length %}
                            <ul class="clients-grid row row-cols-2 {{ colTable }}">
                                {% for client in clients %}
                                    {% set image = client.image.one() %}
                                    {% if image is not empty %}
                                        <li class="col">
                                            <a href="{{ client.linkField }}" title="{{ entry.heading }}">
                                                <img src="{{ image.getUrl('imageFit_0x400') }}" title="{{ entry.heading }}" alt="{{ entry.heading }}" class="rounded-6 img-carousel">
                                            </a>
                                        </li>
                                    {% endif %}                                    
                                {% endfor %}
                            </ul>
                        {% endif %}                        
                
                    {% default %}
                
                {% endswitch %}
                               
            </div>
        </div>
    </div>

</div>

    





