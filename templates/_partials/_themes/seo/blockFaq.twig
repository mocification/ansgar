{% set backgroundImage = entry.style.styleBackground.image.one() %}

{% set textPart %}
    <div class="{{ entry.style.styleHeader.alignment }}">
        {% if entry.header.subTitle %}
            <div class="{{ entry.style.styleHeader.alignment }}">
                <div class="badge rounded-pill badge-default">{{ entry.header.subTitle }}</div>
            </div>
        {% endif %}
        <{{ entry.style.styleHeader.tag }} class="fw-bold {{ entry.style.styleHeader.alignment }}">{{ entry.header.mainTitle }}</{{ entry.style.styleHeader.tag }}>

        {{ entry.header.text }}
    </div>
{% endset %}

{% set faqPart %}
    {% set faqs = entry.faqs.all() %}
    {% if faqs|length %}
        {% if entry.faqLayout == "layout1" %}
            <div class="blocks-faqs-3">
        {% endif %}        
            <div class="faqs">
                {% for faq in faqs %}
                    <div class="toggle faq pb-0 mb-3">
                        <div class="toggle-header">
                            <div class="toggle-icon color">
                                <i class="toggle-closed fa-solid fa-{{ faq.iconField }}"></i>
                                <i class="toggle-open fa-solid fa-{{ faq.iconField }}"></i>
                            </div>
                            <div class="toggle-title fw-medium ps-1">
                                How do I become an author?
                            </div>
                            <div class="toggle-icon color">
                                <i class="toggle-closed fa-solid fa-chevron-down"></i>
                                <i class="toggle-open fa-solid fa-chevron-up"></i>
                            </div>
                        </div>
                        <div class="toggle-content text-black-70 ps-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda, dolorum, vero ipsum molestiae minima odio quo voluptate illum excepturi quam cum voluptates doloribus quae nisi tempore necessitatibus dolores ducimus enim libero eaque explicabo suscipit animi at quaerat aliquid ex expedita perspiciatis? Saepe, aperiam, nam unde quas beatae vero vitae nulla.</div>
                    </div>
                {% endfor %}
            </div>
        {% if entry.faqLayout %}
            </div>
        {% endif %}          
    {% endif %}
{% endset %}

<div class="section bg-transparent my-0"
    {% if backgroundImage is not empty or entry.style.styleBackground.color is not empty %}
    style="background: 
        {% if backgroundImage is not empty %}
            url('{{ backgroundImage.getUrl('imageFit_1920x0') }}') no-repeat center center / cover 
        {% endif %}
        {% if entry.style.styleBackground.color %}
            {% if entry.style.styleBackground.opacity %}
               rgba({{ entry.style.styleBackground.color.red }}, {{ entry.style.styleBackground.color.green }}, {{ entry.style.styleBackground.color.blue }}, {{ entry.style.styleBackground.opacity / 100 }})
            {% else %}
                {{entry.style.styleBackground.color}}
            {% endif %}
        {% endif %}
        !important;"
    {% endif %}
>

    {% switch entry.faqPosition %}

        {% case "left" %}        
            <div class="container">        
                <div class="row justify-content-between g-5">
                    <div class="col-md-6 order-first">
                        {{ faqPart }}
                    </div>
                    <div class="col-md-6 order-last">
                        {{ textPart }}
                    </div>
                </div>
            </div>
            
        {% case "right" %}
            <div class="container">
                <div class="row justify-content-between g-5">
                    <div class="col-md-6 order-last order-md-first">
                        {{ textPart }}
                    </div>
                    <div class="col-md-6 order-first order-md-last">
                        {{ faqPart }}
                    </div>
                </div>
            </div>
        
        {% case "top" %}
            <div class="container">
                <div class="row justify-content-between">
                    <div class="col-md-12">
                        {{ faqPart }}
                    </div>
                    <div class="col-md-12">
                        {{ textPart }}
                    </div>
                </div>
            </div>

        {% case "bottom" %}
            <div class="container">
                <div class="row justify-content-between">
                    <div class="col-md-12">
                        {{ textPart }}
                    </div>
                    <div class="col-md-12">
                        {{ faqPart }}
                    </div>
                </div>
            </div>
            
        {% default %}
            <div class="container">
                <div class="row justify-content-between">
                    <div class="col-md-12">
                        {{ textPart }}
                    </div>
                    <div class="col-md-12">
                        {{ faqPart }}
                    </div>
                </div>
            </div>

    {% endswitch %}
</div>